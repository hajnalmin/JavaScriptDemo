<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>回到顶部</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #wrap {
            position: relative;
        }

        #box {
            display: none;
            font-family: "萝莉体 第二版";
            position: absolute;
            bottom: 0px;
            right: 8px;
            width: 80px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            background-color: red;
            color: #FFFFff;
            border-radius: 2px;
            cursor:pointer;
        }
    </style>
</head>
<body>
<div id="wrap">
    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <p>我是p元素</p>

    <div id="box">
        <p>回到顶部</p>
    </div>
</div>

<script>

        //1.获取元素
        var box = document.getElementById("box");

        //2.获取界面可是区域的高度
        var clientHeight = document.documentElement.clientHeight || document.body.clientHeight;
        var timer = null;//存放定时器的变量
        var istopFlag = true;

        //3.滚动条滚动时触发,判断用户是否滚动滚轮；
        window.onscroll = function () {
            //获取滚动条距离顶部的高度
            var nowTop = document.documentElement.scrollTop || document.body.scrollTop;
            if (nowTop >= clientHeight) {
                box.style.display = 'block';
            } else {
                box.style.display = 'none';
            }
            if (!istopFlag) {
                clearInterval(timer);
            }
            istopFlag = false;
        };


        box.onclick = function () {
            //4.设置定时器
            timer = setInterval(function () {
                //获取滚动条距离顶部的高度
                var nowTop = document.documentElement.scrollTop || document.body.scrollTop;
                var ispeed = Math.floor(-nowTop / 6);
                document.documentElement.scrollTop = document.body.scrollTop = nowTop + ispeed;
                istopFlag = true;
                if (nowTop == 0) {
                    clearInterval(timer);
                }
            }, 100);


    }

</script>


</body>
</html>